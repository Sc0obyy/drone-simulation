# Drone Simulator

This project simulates a drone performing survey missions over designated areas using Lua scripts. The simulator ensures the drone stays within defined boundaries, captures photographs periodically, and adheres to flight constraints.

The aim of this simulator is to enhance the usability of the [DroneGPT](https://github.com/L3S/DroneGPT) application. Without simulating the drone flight paths, it can be tedious to check, if the ChatGPT generated lua script adhers to given requirements.

[![MIT License](https://img.shields.io/badge/License-MIT-green.svg)](https://choosealicense.com/licenses/mit/)

## Dependencies

To run this project, you need to have the following dependencies installed:

- **Python 3.8+**

You can install the required Python packages using `pip`:

```sh
pip install -r requirements.txt
```

## Running the Simulation

To run the simulation, execute the following command:

```sh
python main.py
```

## Generating a Prompt

To generate a prompt based on the settings, use the following command:

```sh
python main.py --prompt
```

You can specify a custom settings file and output file for the prompt:

```sh
python main.py --prompt --settings custom_settings.py --output custom_prompt.txt
```

## Example Lua Scripts

The `examples/` directory contains example Lua scripts for different survey missions:

- **offset_circle.lua**: Survey mission within a circular boundary.
- **offset_square.lua**: Survey mission within a square boundary.
- **square.lua**: Survey mission within a rectangular boundary.

## Configuration

The `settings.py` file contains various configuration settings for the simulation, including screen dimensions, simulation speed, drone parameters, and boundary definitions.

The most important settings that might need to be changed for individual needs are:

- `SIMULATION_SPEED`: This variable sets the speed of the simulation. A value of `1` is real time.
- `LUA_SCRIPT_PATH`: This variable lets you set the path for your lua script.
- `BOUNDARY_SHAPE`: Set the area shape of your targeted flight area. Possible values are: `circle` and `rectangle`
- `BOUNDARY_PARAMS`: Set the variables for your area:
    - If your shape is a circle. The values `x` and `y` are the circle origin coordinates, and `radius` is the circles radius:
        ```
        BOUNDARY_PARAMS = {
            "x": 100,
            "y": 0,
            "radius": 130
        }
        ```
    - If you shape is a rectangle. The values `v1` - `v4` represent the coordinates of your recatangles vertices (corners):
        ```
        BOUNDARY_PARAMS= {
            'v1': (0, 25),
            'v2': (50, 25),
            'v3': (50, -25),
            'v4': (0, -25)
        }
        ```
> [!IMPORTANT] 
> Make sure, that the Boundary values, as well as the prompt settings are identical to the values found for the prompt used to create the lua script. 

## Bachelor's Thesis

This project was developed as part of my bachelor's thesis. The goal of the program was to create a simulator that can validate the flight paths generated by the DroneGPT application. By simulating the drone's flight, we can ensure that the generated Lua scripts meet the specified requirements and constraints. This simulation was used together with [DroneGPT](https://github.com/L3S/DroneGPT) to create an image dataset of animal photos, captured with a drone. The dataset will be used later on for conducting federated learning experiments.

## License

This project is licensed under the MIT License.
